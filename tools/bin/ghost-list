#!/usr/bin/env bash
set -euo pipefail

# List Ghost CMS posts.
#
# Usage:
#   ghost-list                  # All posts
#   ghost-list drafts           # Drafts only
#   ghost-list published        # Published only
#   ghost-list all 50           # All posts, limit 50
#
# Requires: GHOST_URL, GHOST_ADMIN_API_KEY in environment or .env

source "$(dirname "${BASH_SOURCE[0]}")/_common.sh"

STATUS="${1:-all}"
LIMIT="${2:-15}"

# Normalize "drafts" â†’ "draft"
[ "$STATUS" = "drafts" ] && STATUS="draft"

exec "$PYTHON" "$CLIENT" list "$STATUS" "$LIMIT"
